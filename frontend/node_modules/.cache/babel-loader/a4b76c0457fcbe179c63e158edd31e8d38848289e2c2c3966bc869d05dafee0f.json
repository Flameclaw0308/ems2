{"ast":null,"code":"/* eslint-disable no-unused-vars */import React,{useState}from'react';import{Link,useNavigate}from'react-router-dom';import UserService from'../service/UserService';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function LandingPage(){var isAuthenticated=UserService.isAuthenticated();const navigate=useNavigate();const isAdmin=UserService.isAdmin();const buttonStyle={margin:'10px',padding:'10px 20px',height:'10vh',width:'200px',backgroundColor:'black',border:'1px solid #ccc',borderRadius:'5px',cursor:'pointer'};const handleLogout=()=>{const confirmDelete=window.confirm('Are you sure you want to logout this user?');if(confirmDelete){UserService.logout();isAuthenticated=0;if(!isAuthenticated){navigate(\"/\");}}};const[isDownloading,setIsDownloading]=useState(false);const handleDownloadExcel=async()=>{setIsDownloading(true);try{if(!isAdmin){alert(\"You do not have access\");}else{const response=await fetch(\"\".concat(UserService.BASE_URL,\"/export/excel\"),{method:'POST'});if(!response.ok){throw new Error('Failed to generate Excel file');}const blob=await response.blob();const url=URL.createObjectURL(blob);const link=document.createElement('a');link.href=url;link.setAttribute('download','data.xls');// Change extension for desired format\ndocument.body.appendChild(link);link.click();document.body.removeChild(link);}}catch(error){console.error('Error downloading Excel:',error);}finally{setIsDownloading(false);}};const[isDownloading2,setIsDownloading2]=useState(false);const handleDownloadPdf=async()=>{setIsDownloading2(true);try{if(!isAdmin){alert(\"You do not have access\");}else{const response=await fetch(\"\".concat(UserService.BASE_URL,\"/export/pdf\"),{method:'GET'});if(!response.ok){throw new Error('Failed to generate Excel file');}const blob=await response.blob();const url=URL.createObjectURL(blob);const link=document.createElement('a');link.href=url;link.setAttribute('download','data.pdf');// Change extension for desired format\ndocument.body.appendChild(link);link.click();document.body.removeChild(link);}}catch(error){console.error('Error downloading Excel:',error);}finally{setIsDownloading2(false);}};return/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',justifyContent:'center',alignItems:'center',minHeight:'75vh'},children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{style:buttonStyle,children:/*#__PURE__*/_jsx(Link,{to:\"/user-management\",children:\"View Users\"})}),/*#__PURE__*/_jsx(\"button\",{style:buttonStyle,children:/*#__PURE__*/_jsx(Link,{to:\"/register\",children:\"Add Users\"})}),/*#__PURE__*/_jsx(\"button\",{style:buttonStyle,onClick:handleDownloadExcel,children:\"Export to excel\"}),/*#__PURE__*/_jsx(\"button\",{style:buttonStyle,onClick:handleDownloadPdf,children:\"Export to pdf\"}),/*#__PURE__*/_jsx(\"button\",{style:buttonStyle,onClick:handleLogout,children:\"Logout\"})]})});};export default LandingPage;","map":{"version":3,"names":["React","useState","Link","useNavigate","UserService","jsx","_jsx","jsxs","_jsxs","LandingPage","isAuthenticated","navigate","isAdmin","buttonStyle","margin","padding","height","width","backgroundColor","border","borderRadius","cursor","handleLogout","confirmDelete","window","confirm","logout","isDownloading","setIsDownloading","handleDownloadExcel","alert","response","fetch","concat","BASE_URL","method","ok","Error","blob","url","URL","createObjectURL","link","document","createElement","href","setAttribute","body","appendChild","click","removeChild","error","console","isDownloading2","setIsDownloading2","handleDownloadPdf","style","display","justifyContent","alignItems","minHeight","children","to","onClick"],"sources":["C:/Users/ANIRUDH/Desktop/ems/frontend/src/components/userspage/LandingPage.jsx"],"sourcesContent":["/* eslint-disable no-unused-vars */\r\n\r\nimport React, { useState } from 'react';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nimport UserService from '../service/UserService';\r\nfunction LandingPage() {\r\n    var isAuthenticated = UserService.isAuthenticated();\r\n    const navigate=useNavigate();\r\n    const isAdmin=UserService.isAdmin();\r\n   const buttonStyle = {\r\n    margin: '10px',\r\n    padding: '10px 20px',\r\n    height: '10vh',\r\n    width: '200px',\r\n    backgroundColor: 'black',\r\n    border: '1px solid #ccc',\r\n    borderRadius: '5px',\r\n    cursor: 'pointer',\r\n  };\r\n  const handleLogout = () => {\r\n        const confirmDelete = window.confirm('Are you sure you want to logout this user?');\r\n        if (confirmDelete) {\r\n            UserService.logout();\r\n            isAuthenticated=0;\r\n            if(!isAuthenticated)\r\n                {\r\n                    navigate(\"/\");\r\n                }\r\n        }\r\n    }; \r\n  const [isDownloading, setIsDownloading] = useState(false);\r\n  const handleDownloadExcel = async () => {\r\n    setIsDownloading(true);\r\n    try {\r\n      if(!isAdmin)\r\n        {\r\n          alert(\"You do not have access\");\r\n        }\r\n        else{\r\n      const response = await fetch(`${UserService.BASE_URL}/export/excel`, {\r\n        method: 'POST',\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error('Failed to generate Excel file');\r\n      }\r\n\r\n      const blob = await response.blob();\r\n      const url = URL.createObjectURL(blob);\r\n\r\n      const link = document.createElement('a');\r\n      link.href = url;\r\n      link.setAttribute('download', 'data.xls'); // Change extension for desired format\r\n      document.body.appendChild(link);\r\n      link.click();\r\n      document.body.removeChild(link);\r\n    }}catch (error) {\r\n      console.error('Error downloading Excel:', error);\r\n    } finally {\r\n      setIsDownloading(false);\r\n    }\r\n  }\r\n  const [isDownloading2, setIsDownloading2] = useState(false);\r\n  const handleDownloadPdf = async () => {\r\n    setIsDownloading2(true);\r\n    try {\r\n    if(!isAdmin)\r\n      {\r\n        alert(\"You do not have access\");\r\n      }\r\n    else{\r\n      const response = await fetch(`${UserService.BASE_URL}/export/pdf`, {\r\n        method: 'GET',\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error('Failed to generate Excel file');\r\n      }\r\n\r\n      const blob = await response.blob();\r\n      const url = URL.createObjectURL(blob);\r\n\r\n      const link = document.createElement('a');\r\n      link.href = url;\r\n      link.setAttribute('download', 'data.pdf'); // Change extension for desired format\r\n      document.body.appendChild(link);\r\n      link.click();\r\n      document.body.removeChild(link);\r\n    } }catch (error) {\r\n      console.error('Error downloading Excel:', error);\r\n    } finally {\r\n      setIsDownloading2(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div style={{ display: 'flex', justifyContent: 'center', alignItems: 'center', minHeight: '75vh' }}>\r\n      <div>\r\n        <button style={buttonStyle}><Link to={`/user-management`}>View Users</Link></button>\r\n        <button style={buttonStyle}><Link to={`/register`}>Add Users</Link></button>\r\n        <button style={buttonStyle} onClick={handleDownloadExcel}>Export to excel</button>\r\n        <button style={buttonStyle} onClick={handleDownloadPdf}>Export to pdf</button>\r\n        <button style={buttonStyle} onClick={handleLogout}>Logout</button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LandingPage\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}