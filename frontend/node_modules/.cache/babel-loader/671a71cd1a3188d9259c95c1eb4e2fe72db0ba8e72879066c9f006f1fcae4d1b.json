{"ast":null,"code":"import axios from\"axios\";class UserService{static async login(email,password){try{const response=await axios.post(\"\".concat(UserService.BASE_URL,\"/auth/login\"),{email,password});return response.data;}catch(err){throw err;}}static async register(userData,token){try{const response=await axios.post(\"\".concat(UserService.BASE_URL,\"/auth/register\"),userData,{headers:{Authorization:\"Bearer \".concat(token)}});return response.data;}catch(err){throw err;}}static async getAllUsers(token){try{const response=await axios.get(\"\".concat(UserService.BASE_URL,\"/get-all-users\"),{headers:{Authorization:\"Bearer \".concat(token)}});return response.data;}catch(err){throw err;}}static async getYourProfile(token){try{const response=await axios.get(\"\".concat(UserService.BASE_URL,\"/adminuser/get-profile\"),{headers:{Authorization:\"Bearer \".concat(token)}});return response.data;}catch(err){throw err;}}static async getUserById(userId,token){try{const response=await axios.get(\"\".concat(UserService.BASE_URL,\"/admin/get-users/\").concat(userId),{headers:{Authorization:\"Bearer \".concat(token)}});return response.data;}catch(err){throw err;}}static async deleteUser(userId,token){try{const response=await axios.delete(\"\".concat(UserService.BASE_URL,\"/admin/delete/\").concat(userId),{headers:{Authorization:\"Bearer \".concat(token)}});return response.data;}catch(err){throw err;}}static async updateUser(userId,userData,token){try{const response=await axios.put(\"\".concat(UserService.BASE_URL,\"/admin/update/\").concat(userId),userData,{headers:{Authorization:\"Bearer \".concat(token)}});return response.data;}catch(err){throw err;}}/**AUTHENTICATION CHECKER */static logout(){localStorage.removeItem('token');localStorage.removeItem('role');}static isAuthenticated(){const token=localStorage.getItem('token');return!!token;}static isAdmin(){const role=localStorage.getItem('role');return role==='ADMIN';}static isUser(){const role=localStorage.getItem('role');return role==='USER';}static adminOnly(){return this.isAuthenticated()&&this.isAdmin();}}UserService.BASE_URL=\"http://localhost:8080\";export default UserService;","map":{"version":3,"names":["axios","UserService","login","email","password","response","post","concat","BASE_URL","data","err","register","userData","token","headers","Authorization","getAllUsers","get","getYourProfile","getUserById","userId","deleteUser","delete","updateUser","put","logout","localStorage","removeItem","isAuthenticated","getItem","isAdmin","role","isUser","adminOnly"],"sources":["C:/Users/ANIRUDH/Desktop/ems/frontend/src/components/service/UserService.js"],"sourcesContent":["import axios from \"axios\";\n\nclass UserService{\n    static BASE_URL = \"http://localhost:8080\"\n    static async login(email, password){\n        try{\n            const response = await axios.post(`${UserService.BASE_URL}/auth/login`, {email, password})\n            return response.data;\n\n        }catch(err){\n            throw err;\n        }\n    }\n\n    static async register(userData, token){\n        try{\n            const response = await axios.post(`${UserService.BASE_URL}/auth/register`, userData, \n            {\n                headers: {Authorization: `Bearer ${token}`}\n            })\n            return response.data;\n        }catch(err){\n            throw err;\n        }\n    }\n\n    static async getAllUsers(token){\n        try{\n            const response = await axios.get(`${UserService.BASE_URL}/get-all-users`, \n            {\n                headers: {Authorization: `Bearer ${token}`}\n            })\n            return response.data;\n        }catch(err){\n            throw err;\n        }\n    }\n\n\n    static async getYourProfile(token){\n        try{\n            const response = await axios.get(`${UserService.BASE_URL}/adminuser/get-profile`, \n            {\n                headers: {Authorization: `Bearer ${token}`}\n            })\n            return response.data;\n        }catch(err){\n            throw err;\n        }\n    }\n\n    static async getUserById(userId, token){\n        try{\n            const response = await axios.get(`${UserService.BASE_URL}/admin/get-users/${userId}`, \n            {\n                headers: {Authorization: `Bearer ${token}`}\n            })\n            return response.data;\n        }catch(err){\n            throw err;\n        }\n    }\n\n    static async deleteUser(userId, token){\n        try{\n            const response = await axios.delete(`${UserService.BASE_URL}/admin/delete/${userId}`, \n            {\n                headers: {Authorization: `Bearer ${token}`}\n            })\n            return response.data;\n        }catch(err){\n            throw err;\n        }\n    }\n\n\n    static async updateUser(userId, userData, token){\n        try{\n            const response = await axios.put(`${UserService.BASE_URL}/admin/update/${userId}`, userData,\n            {\n                headers: {Authorization: `Bearer ${token}`}\n            })\n            return response.data;\n        }catch(err){\n            throw err;\n        }\n    }\n\n    /**AUTHENTICATION CHECKER */\n    static logout(){\n        localStorage.removeItem('token')\n        localStorage.removeItem('role')\n    }\n\n    static isAuthenticated(){\n        const token = localStorage.getItem('token')\n        return !!token\n    }\n\n    static isAdmin(){\n        const role = localStorage.getItem('role')\n        return role === 'ADMIN'\n    }\n\n    static isUser(){\n        const role = localStorage.getItem('role')\n        return role === 'USER'\n    }\n\n    static adminOnly(){\n        return this.isAuthenticated() && this.isAdmin();\n    }\n\n}\n\nexport default UserService;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CAEzB,KAAM,CAAAC,WAAW,CAEb,YAAa,CAAAC,KAAKA,CAACC,KAAK,CAAEC,QAAQ,CAAC,CAC/B,GAAG,CACC,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAL,KAAK,CAACM,IAAI,IAAAC,MAAA,CAAIN,WAAW,CAACO,QAAQ,gBAAe,CAACL,KAAK,CAAEC,QAAQ,CAAC,CAAC,CAC1F,MAAO,CAAAC,QAAQ,CAACI,IAAI,CAExB,CAAC,MAAMC,GAAG,CAAC,CACP,KAAM,CAAAA,GAAG,CACb,CACJ,CAEA,YAAa,CAAAC,QAAQA,CAACC,QAAQ,CAAEC,KAAK,CAAC,CAClC,GAAG,CACC,KAAM,CAAAR,QAAQ,CAAG,KAAM,CAAAL,KAAK,CAACM,IAAI,IAAAC,MAAA,CAAIN,WAAW,CAACO,QAAQ,mBAAkBI,QAAQ,CACnF,CACIE,OAAO,CAAE,CAACC,aAAa,WAAAR,MAAA,CAAYM,KAAK,CAAE,CAC9C,CAAC,CAAC,CACF,MAAO,CAAAR,QAAQ,CAACI,IAAI,CACxB,CAAC,MAAMC,GAAG,CAAC,CACP,KAAM,CAAAA,GAAG,CACb,CACJ,CAEA,YAAa,CAAAM,WAAWA,CAACH,KAAK,CAAC,CAC3B,GAAG,CACC,KAAM,CAAAR,QAAQ,CAAG,KAAM,CAAAL,KAAK,CAACiB,GAAG,IAAAV,MAAA,CAAIN,WAAW,CAACO,QAAQ,mBACxD,CACIM,OAAO,CAAE,CAACC,aAAa,WAAAR,MAAA,CAAYM,KAAK,CAAE,CAC9C,CAAC,CAAC,CACF,MAAO,CAAAR,QAAQ,CAACI,IAAI,CACxB,CAAC,MAAMC,GAAG,CAAC,CACP,KAAM,CAAAA,GAAG,CACb,CACJ,CAGA,YAAa,CAAAQ,cAAcA,CAACL,KAAK,CAAC,CAC9B,GAAG,CACC,KAAM,CAAAR,QAAQ,CAAG,KAAM,CAAAL,KAAK,CAACiB,GAAG,IAAAV,MAAA,CAAIN,WAAW,CAACO,QAAQ,2BACxD,CACIM,OAAO,CAAE,CAACC,aAAa,WAAAR,MAAA,CAAYM,KAAK,CAAE,CAC9C,CAAC,CAAC,CACF,MAAO,CAAAR,QAAQ,CAACI,IAAI,CACxB,CAAC,MAAMC,GAAG,CAAC,CACP,KAAM,CAAAA,GAAG,CACb,CACJ,CAEA,YAAa,CAAAS,WAAWA,CAACC,MAAM,CAAEP,KAAK,CAAC,CACnC,GAAG,CACC,KAAM,CAAAR,QAAQ,CAAG,KAAM,CAAAL,KAAK,CAACiB,GAAG,IAAAV,MAAA,CAAIN,WAAW,CAACO,QAAQ,sBAAAD,MAAA,CAAoBa,MAAM,EAClF,CACIN,OAAO,CAAE,CAACC,aAAa,WAAAR,MAAA,CAAYM,KAAK,CAAE,CAC9C,CAAC,CAAC,CACF,MAAO,CAAAR,QAAQ,CAACI,IAAI,CACxB,CAAC,MAAMC,GAAG,CAAC,CACP,KAAM,CAAAA,GAAG,CACb,CACJ,CAEA,YAAa,CAAAW,UAAUA,CAACD,MAAM,CAAEP,KAAK,CAAC,CAClC,GAAG,CACC,KAAM,CAAAR,QAAQ,CAAG,KAAM,CAAAL,KAAK,CAACsB,MAAM,IAAAf,MAAA,CAAIN,WAAW,CAACO,QAAQ,mBAAAD,MAAA,CAAiBa,MAAM,EAClF,CACIN,OAAO,CAAE,CAACC,aAAa,WAAAR,MAAA,CAAYM,KAAK,CAAE,CAC9C,CAAC,CAAC,CACF,MAAO,CAAAR,QAAQ,CAACI,IAAI,CACxB,CAAC,MAAMC,GAAG,CAAC,CACP,KAAM,CAAAA,GAAG,CACb,CACJ,CAGA,YAAa,CAAAa,UAAUA,CAACH,MAAM,CAAER,QAAQ,CAAEC,KAAK,CAAC,CAC5C,GAAG,CACC,KAAM,CAAAR,QAAQ,CAAG,KAAM,CAAAL,KAAK,CAACwB,GAAG,IAAAjB,MAAA,CAAIN,WAAW,CAACO,QAAQ,mBAAAD,MAAA,CAAiBa,MAAM,EAAIR,QAAQ,CAC3F,CACIE,OAAO,CAAE,CAACC,aAAa,WAAAR,MAAA,CAAYM,KAAK,CAAE,CAC9C,CAAC,CAAC,CACF,MAAO,CAAAR,QAAQ,CAACI,IAAI,CACxB,CAAC,MAAMC,GAAG,CAAC,CACP,KAAM,CAAAA,GAAG,CACb,CACJ,CAEA,4BACA,MAAO,CAAAe,MAAMA,CAAA,CAAE,CACXC,YAAY,CAACC,UAAU,CAAC,OAAO,CAAC,CAChCD,YAAY,CAACC,UAAU,CAAC,MAAM,CAAC,CACnC,CAEA,MAAO,CAAAC,eAAeA,CAAA,CAAE,CACpB,KAAM,CAAAf,KAAK,CAAGa,YAAY,CAACG,OAAO,CAAC,OAAO,CAAC,CAC3C,MAAO,CAAC,CAAChB,KAAK,CAClB,CAEA,MAAO,CAAAiB,OAAOA,CAAA,CAAE,CACZ,KAAM,CAAAC,IAAI,CAAGL,YAAY,CAACG,OAAO,CAAC,MAAM,CAAC,CACzC,MAAO,CAAAE,IAAI,GAAK,OAAO,CAC3B,CAEA,MAAO,CAAAC,MAAMA,CAAA,CAAE,CACX,KAAM,CAAAD,IAAI,CAAGL,YAAY,CAACG,OAAO,CAAC,MAAM,CAAC,CACzC,MAAO,CAAAE,IAAI,GAAK,MAAM,CAC1B,CAEA,MAAO,CAAAE,SAASA,CAAA,CAAE,CACd,MAAO,KAAI,CAACL,eAAe,CAAC,CAAC,EAAI,IAAI,CAACE,OAAO,CAAC,CAAC,CACnD,CAEJ,CA/GM7B,WAAW,CACNO,QAAQ,CAAG,uBAAuB,CAgH7C,cAAe,CAAAP,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}